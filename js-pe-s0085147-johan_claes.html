<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulier_johan_claes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style-project.css">
</head>

<body>
    <div class="hoofding" class="container-fluid">
        <h2>Registreer u vandaag nog !</h2>
        <h4>Meld je aan bij JC Services, wij beschermen jouw software tegen malware !</h4>
    </div>

    <div class="container-md">

        <form class="row g-3">
            <div class="col-md-5 ">
                <label for="voornaam " class="form-label ">Voornaam</label>
                <input type="text" class="form-control " id="voornaam ">
            </div>
            <div class="col-md-5 ">
                <label for="familienaam " class="form-label ">Familienaam</label>
                <input type="text" class="form-control " id="familienaam ">
            </div>
            <div class="col-md-2 alert alert-danger d-flex align-items-center visually-hidden" role="alert" id="errors_nogeens">
                <div>
                    <h6>Errors !</h6>
                    <p> => nogmaals invullen</p>
                </div>

            </div>


            <div class="col-md-5 ">
                <label for="gebruikersnaam " class="form-label ">Gebruikersnaam</label>
                <div class="input-group-text ">@ <input type="text " class="form-control " id="gebruikersnaam "></div>
            </div>
            <div class="col-md-5 ">
                <label for="inputPassword4 " class="form-label ">E-mail</label>
                <input type="email " class="form-control " id="email " placeholder="jan.peeters@voorbeeld.be ">
            </div>
            <div class="col-md-2 alert alert-success d-flex align-items-center visually-hidden" role="alert" id="goed_gedaan">
                <div>
                    <h6>Goed gedaan !</h6>
                    <p> => je bent geregistreerd.</p>
                </div>

            </div>

            <div class="col-md-5 ">
                <label for="inputEmail4 " class="form-label ">Wachtwoord</label>
                <input type="password " class="form-control " id="wachtwoord1 ">
            </div>
            <div class="col-md-5 ">
                <label for="inputPassword4 " class="form-label ">Herhaal wachtwoord</label>
                <input type="password " class="form-control " id="wachtwoord2 ">
            </div>
            <div class="col-md-2 alert alert-primary d-flex align-items-center visually-hidden" role="alert" id="betalingswijze">
                <div>
                    <h6>Betalingswijze</h6>
                    <p id="betalingswijze-inhoud"></p>
                </div>

            </div>
            <div class="col-10 ">
                <label for="inputAddress " class="form-label ">Adres</label>
                <input type="text " class="form-control " id="adres " placeholder="straat en huisnr ">
            </div>

            <div class="col-md-3 ">
                <label for="inputCity " class="form-label ">Land</label>
                <select class="form-select " id="land " aria-label="Default select example ">
                    <option selected>Kies uw Land</option>
                    <option value="1 ">Belgie</option>
                    <option value="2 ">Nederland</option>
                 </select>
            </div>
            <div class="col-md-4 ">
                <label for="inputState " class="form-label ">Provincie</label>
                <select class="form-select " id="provincie " aria-label="Default select example ">
                    <option selected>Kies Provincie</option>
                    <option value="1 ">west-vlaanderen</option>
                    <option value="2 ">oost-vlaanderen</option>
                    <option value="3 ">vlaams-brabant</option>
                    <option value="4 ">antwerpen</option>
                    <option value="5 ">limburg</option>
                    <option value="6 ">gelderland</option>
                    <option value="7 ">zeeland</option>
                    <option value="8 ">noord-holland</option>
                    <option value="9 ">zuid-holland</option>
                    <option value="10 ">friesland</option>
                    <option value="11 ">groningen</option>
                  </select>
            </div>
            <div class="col-md-3 ">
                <label for="inputZip " class="form-label ">Postcode</label>
                <input type="number " class="form-control " id="postcode ">
            </div>

            <div class="col-md-4 ">
                <h5>Hou me op de hoogte</h5>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="nieuwsbrief">
                    <label class="form-check-label" for="flexCheckDefault">
                        Inschrijven voor onze nieuwsbrief
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="akkoordalgvoorwaarde">
                    <label class="form-check-label" for="flexCheckChecked">
                        Ik ga akkoord met de algemene voorwaarden.
                    </label>
                </div>
            </div>

            <div class="col-md-3 ">
                <h5>Betaling</h5>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" checked>
                    <label class="form-check-label" for="flexRadioDefault1">
                        Banking app
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                    <label class="form-check-label" for="flexRadioDefault2">
                      Overschrijving
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3">
                    <label class="form-check-label" for="flexRadioDefault3">
                      Visa card
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault4">
                    <label class="form-check-label" for="flexRadioDefault4">
                      Paypal
                    </label>
                </div>
            </div>

            <div class="col-md-5 alert alert-danger d-flex align-items-center visually-hidden" role="alert" id="errors-lijst">
                <div>
                    <h6>Bij volgende poging...</h6>
                    <p id="error-lijst-inhoud"></p>
                </div>
            </div>


        </form>
        <hr>

        <div class="text-center "><button type="button " class="btn btn-primary " onclick="validateForm() ">Click voor Registratie !</button></div>

    </div>

    <script>
        function validateForm() {
            let voornaam = document.getElementById("voornaam ").value;
            let familienaam = document.getElementById("familienaam ").value;
            let gebruikersnaam = document.getElementById("gebruikersnaam ").value;
            let email = document.getElementById("email ").value;
            let wachtwoord1 = document.getElementById("wachtwoord1 ").value;
            let wachtwoord2 = document.getElementById("wachtwoord2 ").value;
            let adres = document.getElementById("adres ").value;
            let land = document.getElementById("land ").value;
            let provincie = document.getElementById("provincie ").value;
            let postcode = document.getElementById("postcode ").value;
            let opdehoogte = "zero ";
            let akkoordalgvoorwaarde = "zero ";
            let betaling = "zero ";
            // 2 ja - neen mogelijkheden
            // let opdehoogte = document.getElementById("opdehoogte ");
            if (document.getElementById("nieuwsbrief").checked) {
                opdehoogte = "yes ";
            } else {
                opdehoogte = "no ";
            }
            // ****

            if (document.getElementById("akkoordalgvoorwaarde").checked) {
                akkoordalgvoorwaarde = "yes"
            } else {
                akkoordalgvoorwaarde = "no"
            }
            // 1 van de 4 betalingen
            if (document.getElementById("flexRadioDefault1").checked) {
                betaling = "bankingapp ";
            }
            if (document.getElementById("flexRadioDefault2").checked) {
                betaling = "overschrijving ";
            }
            if (document.getElementById("flexRadioDefault3").checked) {
                betaling = "visa ";
            }
            if (document.getElementById("flexRadioDefault4").checked) {
                betaling = "paypal ";
            }

            console.log(voornaam);
            console.log(familienaam);
            console.log(gebruikersnaam);
            console.log(email);
            console.log(wachtwoord1);
            console.log(wachtwoord2);
            console.log(adres);
            console.log(land);
            console.log(provincie);
            console.log(postcode);
            console.log(opdehoogte);
            console.log(akkoordalgvoorwaarde);
            console.log(betaling);

            let foutenlijst = new Array();

            // checkEmptyField(familienaam, "Vul Familienaam in.");
            foutenlijst.push(checkEmptyField(voornaam, "Vul voornaam in."));
            foutenlijst.push(checkEmptyField(familienaam, "Vul familienaam in."));
            foutenlijst.push(checkEmptyField(gebruikersnaam, "Vul gebruikersnaam in."));
            if (!validateEmail(email)) {
                foutenlijst.push("Vul correct e-mail in.");
            }
            foutenlijst.push(checkEmptyField(wachtwoord1, "Vul wachtwoord 1 in"));
            foutenlijst.push(checkEmptyField(wachtwoord2, "Vul wachtwoord 2 in"));
            foutenlijst.push(validatePassword(wachtwoord1, wachtwoord2));

            foutenlijst.push(checkEmptyField(adres, "Vul straat + nr in."));
            if (land == "Kies uw Land") {
                foutenlijst.push("Selecteer uw land.");
            }
            if (provincie == "Kies Provincie") {
                foutenlijst.push("Selecteer provincie.");
            }
            foutenlijst.push(checkPC(postcode));

            if (akkoordalgvoorwaarde == "no") {
                foutenlijst.push("Vink akkoord met voorwaarde aan.");
            }

            console.log("----------");
            console.log(foutenlijst);
            foutenlijst = foutenlijst.filter(checkLeeg);
            // de lege velden uit de array halen
            function checkLeeg(veld) {
                return veld != "";
            }

            if (foutenlijst.length == 0) {
                alert("no errors");
                let element = document.getElementById("goed_gedaan");
                element.classList.remove("visually-hidden");
                let element2 = document.getElementById("betalingswijze");
                element2.classList.remove("visually-hidden");
                document.getElementById("betalingswijze-inhoud").innerHTML = betaling;
            } else {
                alert("Errors ");
                let element3 = document.getElementById("errors_nogeens");
                element3.classList.remove("visually-hidden");
                let element4 = document.getElementById("errors-lijst");
                element4.classList.remove("visually-hidden");
                let foutenlijst_txt = "";
                foutenlijst.forEach(element => {
                    foutenlijst_txt += element + "<br>";
                });
                document.getElementById("error-lijst-inhoud").innerHTML = foutenlijst_txt;
            }
        }

        function checkEmptyField(waarde, boodschap) {
            if (waarde == "") {
                return boodschap
            } else return "";
        }

        function validateEmail(email) {
            // gevonden op https://www.w3resource.com/javascript/form/email-validation.php
            var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
            return emailPattern.test(email);

            // if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(myForm.emailAddr.value)) {
            //     return (true)
            // }
            // return (false)
        }

        function validatePassword(wachtwoord, wachtwoord2) {
            if (wachtwoord != wachtwoord2) {
                return "2x hetzelfde wachtwoord graag."
            } else {
                if (wachtwoord.length <= 6) {
                    return "wachtwoord min 7 char"
                } else {
                    return ""
                }

            }
        }

        function validatePayment(veld) {

        }

        function checkPC(postcode) {
            if (postcode < 1000 || postcode > 9999) {
                return "Geef geldige postcode."
            } else {
                return ""
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js " integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p " crossorigin="anonymous "></script>

</body>

</html>

</html>